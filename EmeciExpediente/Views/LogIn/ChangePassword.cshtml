
@{
    ViewBag.Title = "ChangePassword";
    Layout = "~/Views/Shared/_LogIn.cshtml";
}

@model ChangePwd
@Html.ValidationSummary(true)
@using (Html.BeginForm())
{
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label>Contrase&ntilde;a actual</label>
                <div class="form-inline">
                    @Html.TextBoxFor(x => x.oldPassword, null, new { @class = "form-control", @type = "password" })
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label>Nueva contrase&ntilde;a</label>
                <div class="form-inline">
                    @Html.TextBoxFor(x => x.newPassword, null, new { @class = "form-control", @type = "password" })
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label>Repetir contrase&ntilde;a</label>
                <div class="form-inline">
                    @Html.TextBoxFor(x => x.newPassword2, null, new { @class = "form-control", @type = "password" })
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            @if (Model.errorFields)
            {
                <span class="alert alert-danger help-block">
                    Acomplete todos los campos
                </span>
            }
            else if (Model.errorNewPassword)
            {
                <span class="alert alert-danger help-block">
                    La nueva contrase&ntilde;a no coincide
                </span>
            }
            else if (Model.errorOldPassword)
            {
                <span class="alert alert-danger help-block">
                    Contrase&ntilde;a invalida
                </span>
            }
            else if (Model.success)
            {
                <span class="alert alert-success help-block">
                    Su contrase&ntilde;a ha sido cambiada
                </span>
            }

            <div class="form-group">
                @if (Model.success)
                {
                    @Html.ActionLink("Regresar", "Summary", "Expedient", null, new { @class = "btn btn-primary"})
                }
                else
                {
                    <button type="submit" class="btn btn-primary">Guardar</button>
                }
            </div>
        </div>
    </div>
}